<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delete</title>
</head>
<style>
    body {
    background-color: #080710;
    color: #00B4CC;
    
  font-family: 'Open Sans', sans-serif;
}
@import url(https://fonts.googleapis.com/css?family=Open+Sans);

.search {
  width: 100%;
  position: relative;
  display: flex;
  
}

.searchTerm {
  width: 100%;
  border: 3px solid #00B4CC;
  border-right: none;
  padding: 5px;
  height: 30px;
  border-radius: 5px 0 0 5px;
  outline: none;
  color: #9DBFAF;

  margin-top: -100px; 
}

.searchTerm:focus{
  color: #00B4CC;
}

.searchButton {
  width: 40px;
  height: 36px;
  border: 1px solid #00B4CC;
  background: #00B4CC;
  text-align: center;
  color: #fff;
  border-radius: 0 5px 5px 0;
  cursor: pointer;
  font-size: 20px;
  margin-top: -100px;
}
.lot{
  position: absolute;
    top: 10%;
    left: 45%;
    margin-top: -50px;
    margin-left: -50px;
    width: 480px;
    height: 480px;

}
.lote{
    position: absolute;
    top: 80%;
    left: 40%;
    margin-top: -50px;
    margin-left: -50px;
    width: 480px;
    height: 480px;

}
/*Resize the wrap to see the search bar change!*/
.wrap{
  width: 30%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
.searchButton2{
  width: 80px;
  height: 36px;
  border: 1px solid #00B4CC;
  background: #00B4CC;
  text-align: center;
  color: #fff;
  border-radius: 0 5px 5px 0;
  cursor: pointer;
  font-size: 20px;
  margin-top: -100px;
}
</style>
<body>
  
    
    
    <div class="wrap">
        <div class="search">
           <input type="text" class="searchTerm" placeholder="Enter Heading of note to be deleted.." id="se">
           <button type="submit" class="searchButton" id="head">
             
            <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
              <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
            </svg>
            
          </button>
        </div>
     </div>
  <div class="dialog lote" style="display: none;" id="conbox">

   

  </div>


     <script type="module" > 
     const firebaseConfig = {
    apiKey: "AIzaSyDEjys7bX2IC8ZSLvhnhX5y3PLusGCBIxk",
    authDomain: "junon-admin-page.firebaseapp.com",
    projectId: "junon-admin-page",
    storageBucket: "junon-admin-page.appspot.com",
    messagingSenderId: "146329477454",
    appId: "1:146329477454:web:d73cd3aea6563f85243e1f"
};








import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js';

import { getFirestore,collection,setDoc,doc,addDoc,getDoc,getDocs,updateDoc,deleteDoc, query, where} from 'https://www.gstatic.com/firebasejs/9.16.0/firebase-firestore.js';






// Initialize Firebase
const app = initializeApp(firebaseConfig);

const db = getFirestore(app);

let head=document.getElementById("se");
let sub=document.getElementById("head");
let box=document.getElementById("conbox");
function removeSpaces(string) {
    return string.split(' ').join('');
   }
  


   function myFunction() {
    let text = "Press a button!\nEither OK or Cancel.";
    if (confirm(text) == true) {
      text = "You pressed OK!";
    } else {
      text = "You canceled!";
    }
    document.getElementById("demo").innerHTML = text;
  }







async function deleteDocument(){


// box.style.display="";

    var ref=doc(db,"Notes",removeSpaces(head.value));
  
  const docSnap=await getDoc(ref);
  
  if(!docSnap.exists()){
  alert("No such Doc Exits ðŸ¥²");
  location.reload();
  return;
  }

  let text = "Are You Sure to delete !\nEither OK or Cancel.";
  if (confirm(text) == true) {
    
  await deleteDoc(ref).
  then(()=>{






  alert("Deleted Successfully ðŸ˜Š");
  
  location. reload()
  })
  .catch((error)=>{
  alert("Not Deleted ðŸ¥² "+error);
  
  location. reload()
  });

  } else {
    
  
    alert("Not Deleted");
  }


  

  }
  
  
  
  
  
  sub.addEventListener("click",deleteDocument);
  

  







  
    </script>
     
</body>
</html>